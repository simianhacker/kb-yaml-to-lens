---
# Copyright Elasticsearch B.V. and/or licensed to Elasticsearch B.V. under one
# or more contributor license agreements. Licensed under the Elastic License 2.0;
# you may not use this file except in compliance with the Elastic License 2.0.
#
# This file is derived from the Elastic integrations repository:
# https://github.com/elastic/integrations/tree/main/packages/elastic_agent
#
# Converted by kb-yaml-to-lens from Kibana JSON format to YAML format.
dashboards:
  - id: elastic_agent-ddcc3240-6081-11f0-89d2-bb7ceae5af7f
    name: '[Elastic Agent] Google Cloud Storage Input Metrics'
    panels:
      - title: Table of Contents
        grid: {x: 0, y: 0, w: 7, h: 39}
        links:
          layout: horizontal
          items:
            - {label: Overview, dashboard: elastic_agent-a148dc70-6b3c-11ed-98de-67bdecd21824}
            - {label: Concerning Agents, dashboard: elastic_agent-0600ffa0-6b5e-11ed-98de-67bdecd21824}
            - {label: Agent Metrics, dashboard: elastic_agent-f47f18cc-9c7d-4278-b2ea-a6dee816d395}
            - {label: Integrations, dashboard: elastic_agent-1a4e7280-6b5e-11ed-98de-67bdecd21824}
            - {label: Input Metrics, dashboard: elastic_agent-a8192f90-cd3f-11ed-869d-e7dc1b551cd2}
            - {label: Azure Blob Storage, dashboard: elastic_agent-3718c2f0-6082-11f0-89d2-bb7ceae5af7f}
            - {label: Azure Eventhub, dashboard: elastic_agent-0f79f070-6082-11f0-89d2-bb7ceae5af7f}
            - {label: CEL, dashboard: elastic_agent-f16b4870-9811-11ee-80a4-550241a842c0}
            - {label: CloudWatch, dashboard: elastic_agent-a7b5e7a0-cd44-11ed-869d-e7dc1b551cd2}
            - {label: Entity Analytics, dashboard: elastic_agent-02117980-6082-11f0-89d2-bb7ceae5af7f}
            - {label: ETW, dashboard: elastic_agent-f704cce0-6081-11f0-89d2-bb7ceae5af7f}
            - {label: Filestream, dashboard: elastic_agent-ea44c820-95cb-11ee-b517-0550321b54cc}
            - {label: GCP Pub/Sub, dashboard: elastic_agent-ea7a59e0-6081-11f0-89d2-bb7ceae5af7f}
            - {label: Google Cloud Storage, dashboard: elastic_agent-ddcc3240-6081-11f0-89d2-bb7ceae5af7f}
            - {label: HTTP Endpoint, dashboard: elastic_agent-7986a100-9817-11ee-80a4-550241a842c0}
            - {label: HTTP JSON, dashboard: elastic_agent-92846340-95ab-11ee-8ec1-093013efb0e3}
            - {label: Lumberjack, dashboard: elastic_agent-077f7390-6087-11f0-b451-cd284a6efe62}
            - {label: S3, dashboard: elastic_agent-77cdb1c0-cd45-11ed-869d-e7dc1b551cd2}
            - {label: Streaming, dashboard: elastic_agent-b7719f90-6081-11f0-89d2-bb7ceae5af7f}
            - {label: TCP, dashboard: elastic_agent-7d110ba0-cd45-11ed-869d-e7dc1b551cd2}
            - {label: UDP, dashboard: elastic_agent-87ad4330-cd45-11ed-869d-e7dc1b551cd2}
            - {label: Unified Logs, dashboard: elastic_agent-9eab2fa0-5e7c-11f0-89d2-bb7ceae5af7f}
            - {label: Unix, dashboard: elastic_agent-86203230-6081-11f0-89d2-bb7ceae5af7f}
            - {label: Winlog, dashboard: elastic_agent-1badd650-d136-11ed-b85f-4be0157fc90c}
      - grid: {x: 7, y: 0, w: 7, h: 6}
        lens:
          type: metric
          data_view: metrics-*
          primary: {aggregation: last_value, field: filebeat_input.errors_total, label: Part of Total Errors}
      - grid: {x: 14, y: 0, w: 7, h: 6}
        lens:
          type: metric
          data_view: metrics-*
          primary: {aggregation: last_value, field: filebeat_input.decode_errors_total, label: Part of Decode Errors}
      - grid: {x: 21, y: 0, w: 7, h: 6}
        lens:
          type: metric
          data_view: metrics-*
          primary: {aggregation: last_value, field: filebeat_input.gcs_failed_jobs_total, label: Part of Total Failed Jobs}
      - grid: {x: 28, y: 0, w: 7, h: 6}
        lens:
          type: metric
          data_view: metrics-*
          primary: {aggregation: last_value, field: filebeat_input.gcs_expired_failed_jobs_total, label: Part of Expired Failed Jobs}
      - grid: {x: 35, y: 0, w: 7, h: 6}
        lens:
          type: metric
          data_view: metrics-*
          primary: {aggregation: last_value, field: filebeat_input.gcs_bytes_processed_total, label: Part of Bytes Processed}
      - grid: {x: 42, y: 0, w: 6, h: 6}
        lens:
          type: metric
          data_view: metrics-*
          primary: {aggregation: last_value, field: filebeat_input.gcs_events_created_total, label: Part of Events Created}
      - grid: {x: 7, y: 6, w: 9, h: 6}
        lens:
          type: metric
          data_view: metrics-*
          primary: {aggregation: last_value, field: filebeat_input.gcs_objects_listed_total, label: Part of Objects Listed}
      - grid: {x: 16, y: 6, w: 9, h: 6}
        lens:
          type: metric
          data_view: metrics-*
          primary: {aggregation: last_value, field: filebeat_input.gcs_objects_requested_total, label: Part of Objects Requested}
      - grid: {x: 25, y: 6, w: 9, h: 6}
        lens:
          type: metric
          data_view: metrics-*
          primary: {aggregation: last_value, field: filebeat_input.gcs_objects_published_total, label: Part of Objects Published}
      - grid: {x: 34, y: 6, w: 7, h: 6}
        lens:
          type: metric
          data_view: metrics-*
          primary: {aggregation: last_value, field: filebeat_input.gcs_objects_tracked_gauge, label: Part of Objects Tracked}
      - grid: {x: 41, y: 6, w: 7, h: 6}
        lens:
          type: metric
          data_view: metrics-*
          primary: {aggregation: last_value, field: filebeat_input.gcs_objects_inflight_gauge, label: Part of Objects In Flight}
      - title: URL (Last Value)
        grid: {x: 7, y: 12, w: 41, h: 4}
        lens:
          type: datatable
          data_view: metrics-*
          metrics:
            - {id: metric0, aggregation: last_value, field: filebeat_input.url, label: URL (Last Value)}
      - title: Jobs Scheduled After Validation
        grid: {x: 7, y: 16, w: 14, h: 12}
        lens:
          type: line
          data_view: metrics-*
          dimension:
            field: '@timestamp'
            type: date_histogram
          metrics:
            - {formula: median(filebeat_input.gcs_jobs_scheduled_after_validation.histogram.p99), label: 99th Percentile}
            - {formula: median(filebeat_input.gcs_jobs_scheduled_after_validation.histogram.mean), label: Mean}
            - {aggregation: median, field: filebeat_input.gcs_jobs_scheduled_after_validation.histogram.p99, label: Part of 99th Percentile}
            - {aggregation: median, field: filebeat_input.gcs_jobs_scheduled_after_validation.histogram.mean, label: Part of Mean}
      - title: Object Size
        grid: {x: 21, y: 16, w: 13, h: 12}
        lens:
          type: line
          data_view: metrics-*
          dimension:
            field: '@timestamp'
            type: date_histogram
          metrics:
            - {formula: median(filebeat_input.gcs_object_size_in_bytes.histogram.p99), label: 99th Percentile}
            - {formula: median(filebeat_input.gcs_object_size_in_bytes.histogram.mean), label: Mean}
            - {aggregation: median, field: filebeat_input.gcs_object_size_in_bytes.histogram.p99, label: Part of 99th Percentile}
            - {aggregation: median, field: filebeat_input.gcs_object_size_in_bytes.histogram.mean, label: Part of Mean}
      - title: Event per Object
        grid: {x: 34, y: 16, w: 14, h: 12}
        lens:
          type: line
          data_view: metrics-*
          dimension:
            field: '@timestamp'
            type: date_histogram
          metrics:
            - {formula: median(filebeat_input.gcs_events_per_object.histogram.p99), label: 99th Percentile}
            - {formula: median(filebeat_input.gcs_events_per_object.histogram.mean), label: Mean}
            - {aggregation: median, field: filebeat_input.gcs_events_per_object.histogram.p99, label: Part of 99th Percentile}
            - {aggregation: median, field: filebeat_input.gcs_events_per_object.histogram.mean, label: Part of Mean}
      - title: Object Processing Time
        grid: {x: 7, y: 28, w: 21, h: 11}
        lens:
          type: line
          data_view: metrics-*
          dimension:
            field: '@timestamp'
            type: date_histogram
          metrics:
            - {formula: median(filebeat_input.gcs_object_processing_time.histogram.p99)/1000000, label: 99th Percentile}
            - {formula: median(filebeat_input.gcs_object_processing_time.histogram.mean)/1000000, label: Mean}
            - {aggregation: median, field: filebeat_input.gcs_object_processing_time.histogram.p99, label: Part of 99th Percentile}
            - {aggregation: median, field: filebeat_input.gcs_object_processing_time.histogram.mean, label: Part of Mean}
      - title: Source Lag Time
        grid: {x: 28, y: 28, w: 20, h: 11}
        lens:
          type: line
          data_view: metrics-*
          dimension:
            field: '@timestamp'
            type: date_histogram
          metrics:
            - {formula: median(filebeat_input.source_lag_time.histogram.p99)/1000000, label: 99th Percentile}
            - {formula: median(filebeat_input.source_lag_time.histogram.mean)/1000000, label: Mean}
            - {aggregation: median, field: filebeat_input.source_lag_time.histogram.p99, label: Part of 99th Percentile}
            - {aggregation: median, field: filebeat_input.source_lag_time.histogram.mean, label: Part of Mean}
