---
# Copyright Elasticsearch B.V. and/or licensed to Elasticsearch B.V. under one
# or more contributor license agreements. Licensed under the Elastic License 2.0;
# you may not use this file except in compliance with the Elastic License 2.0.
#
# This file is derived from the Elastic integrations repository:
# https://github.com/elastic/integrations/tree/main/packages/elastic_agent
#
# Converted by kb-yaml-to-lens from Kibana JSON format to YAML format.
dashboards:
  - id: elastic_agent-a148dc70-6b3c-11ed-98de-67bdecd21824
    name: '[Elastic Agent] Overview'
    panels:
      - title: Navigation
        links:
          layout: horizontal
          items:
            - {label: Overview, dashboard: elastic_agent-a148dc70-6b3c-11ed-98de-67bdecd21824}
            - {label: Concerning Agents, dashboard: elastic_agent-0600ffa0-6b5e-11ed-98de-67bdecd21824}
            - {label: Agent Metrics, dashboard: elastic_agent-f47f18cc-9c7d-4278-b2ea-a6dee816d395}
            - {label: Integrations, dashboard: elastic_agent-1a4e7280-6b5e-11ed-98de-67bdecd21824}
            - {label: Input Metrics, dashboard: elastic_agent-a8192f90-cd3f-11ed-869d-e7dc1b551cd2}
        size: {w: 8, h: 45}
      - title: Current Active Agents
        lens:
          type: metric
          data_view: metrics-*
          primary:
            aggregation: unique_count
            field: agent.id
            label: Total Agents
            format: {type: number, compact: true, decimals: 0}
        size: {w: 15, h: 4}
      - title: Current Active Agents
        lens:
          type: metric
          data_view: metrics-*
          query: 'host.os.type: "linux"'
          primary:
            aggregation: unique_count
            field: agent.id
            label: Linux
            format: {type: number, compact: true, decimals: 0}
        size: {w: 6, h: 4}
      - title: Current Active Agents
        lens:
          type: metric
          data_view: metrics-*
          query: 'host.os.type: "macos"'
          primary:
            aggregation: unique_count
            field: agent.id
            label: macOS
            format: {type: number, compact: true, decimals: 0}
        size: {w: 6, h: 4}
      - title: Current Active Agents
        lens:
          type: metric
          data_view: metrics-*
          query: 'host.os.type: "windows"'
          primary:
            aggregation: unique_count
            field: agent.id
            label: Windows
            format: {type: number, compact: true, decimals: 0}
        size: {w: 6, h: 4}
      - markdown:
          content: '## Integration Volume'
        size: {w: 40, h: 3}
      - lens:
          type: metric
          data_view: logs-*
          primary:
            aggregation: unique_count
            field: data_stream.dataset
            label: Logs Datasets
            format: {type: number, compact: true, decimals: 0}
        size: {w: 8, h: 4}
      - lens:
          type: metric
          data_view: logs-*
          primary: {aggregation: count, label: Part of Incoming Log Rate}
        size: {w: 8, h: 4}
      - lens:
          type: bar
          data_view: logs-*
          dimension:
            field: '@timestamp'
            type: date_histogram
          metrics:
            - {aggregation: count, label: Metrics}
        size: {w: 24, h: 8}
      - lens:
          type: metric
          data_view: metrics-*
          primary:
            aggregation: unique_count
            field: data_stream.dataset
            label: Metrics Datasets
            format: {type: number, compact: true, decimals: 0}
        size: {w: 8, h: 4}
      - lens:
          type: metric
          data_view: metrics-*
          primary:
            aggregation: count
            label: Incoming Metric Rate
            format: {type: number, compact: true, decimals: 0}
        size: {w: 8, h: 4}
      - title: '[Elastic Agent] Most Active Datasets'
        lens:
          type: bar
          data_view: logs-*
          breakdown: {field: data_stream.dataset, type: values, size: 10}
          metrics:
            - aggregation: count
              label: Metrics
              format: {type: number, decimals: 0}
        size: {w: 24, h: 17}
      - title: '[Elastic Agent] Most Active Namespaces'
        lens:
          type: bar
          data_view: logs-*
          breakdown: {field: data_stream.namespace, type: values, size: 15}
          metrics:
            - aggregation: count
              label: Logs
              format: {type: number, decimals: 0}
        size: {w: 16, h: 17}
      - title: '[Elastic Agent] Most Active Agents'
        lens:
          type: bar
          data_view: logs-*
          breakdown:
            - {field: agent.name, type: values, size: 20}
            - {field: data_stream.dataset, type: values, size: 30}
          metrics:
            - aggregation: count
              label: Logs
              format: {type: number, decimals: 0}
        size: {w: 40, h: 13}
