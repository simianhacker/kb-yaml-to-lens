---
dashboards:
  - id: filters-example-001
    name: '[Example] Advanced Filtering Techniques'
    description: Demonstrates various panel-level filter types and combinations
    panels:
      - title: Filter Types Reference
        size:
          w: 48
          h: 6
        position:
          x: 0
          y: 0
        markdown:
          content: "# Advanced Filtering Techniques\nThis dashboard demonstrates various filter types available for panels:\n\n## Filter Types\n\
            1. **Equals Filter** - Exact field value match\n2. **Exists Filter** - Field existence check\n3. **Comparison Filters** - Greater\
            \ than/less than (gte, gt, lte, lt)\n4. **Not Filter** - Negation of other filters\n5. **Combined Filters** - Multiple filters on\
            \ same panel\nEach panel below demonstrates a different filtering pattern.\n"
      - title: Error Logs Only
        description: "Using equals filter: log.level = 'error'"
        size:
          w: 12
          h: 8
        position:
          x: 0
          y: 6
        lens:
          type: metric
          data_view: logs-*
          primary:
            aggregation: count
            label: Error Count
          filters:
            - field: log.level
              equals: error
      - title: HTTP Requests Only
        description: 'Using exists filter: http.response.status_code exists'
        size:
          w: 12
          h: 8
        position:
          x: 12
          y: 6
        lens:
          type: metric
          data_view: logs-*
          primary:
            aggregation: count
            label: HTTP Events
          filters:
            - exists: http.response.status_code
      - title: Slow Requests (â‰¥500ms)
        description: 'Using gte filter: http.response.time >= 500'
        size:
          w: 12
          h: 8
        position:
          x: 24
          y: 6
        lens:
          type: metric
          data_view: logs-*
          primary:
            aggregation: count
            label: Slow Requests
          filters:
            - field: http.response.time
              gte: '500'
      - title: Non-Success HTTP Codes
        description: 'Using not filter: NOT (http.response.status_code = 200)'
        size:
          w: 12
          h: 8
        position:
          x: 36
          y: 6
        lens:
          type: metric
          data_view: logs-*
          primary:
            aggregation: count
            label: Non-200 Responses
          filters:
            - exists: http.response.status_code
            - not:
                field: http.response.status_code
                equals: '200'
      - title: Critical Production Errors
        description: "Multiple filters: level='error' AND environment='production'"
        size:
          w: 24
          h: 10
        position:
          x: 0
          y: 14
        lens:
          type: line
          data_view: logs-*
          dimension:
            field: '@timestamp'
            type: date_histogram
            label: Time
          metrics:
            - aggregation: count
              label: Production Errors
          filters:
            - field: log.level
              equals: error
            - field: environment
              equals: production
            - exists: error.message
      - title: 4xx HTTP Status Codes
        description: 'Range filter: 400 <= status_code < 500'
        size:
          w: 24
          h: 10
        position:
          x: 24
          y: 14
        lens:
          type: bar
          mode: stacked
          data_view: logs-*
          dimension:
            field: http.response.status_code
            type: values
            size: 10
            sort:
              by: Count
              direction: desc
          metrics:
            - aggregation: count
              label: Count
          filters:
            - field: http.response.status_code
              gte: '400'
            - field: http.response.status_code
              lt: '500'
      - title: Non-Health-Check Requests
        description: Excluding health check endpoints
        size:
          w: 24
          h: 12
        position:
          x: 0
          y: 24
        lens:
          type: area
          mode: stacked
          data_view: logs-*
          dimension:
            field: '@timestamp'
            type: date_histogram
          metrics:
            - aggregation: count
          breakdown:
            type: values
            field: http.request.method
          filters:
            - exists: url.path
            - not:
                field: url.path
                equals: /health
            - not:
                field: url.path
                equals: /ping
      - title: Application Logs Only
        description: Filter by data stream dataset
        size:
          w: 24
          h: 12
        position:
          x: 24
          y: 24
        lens:
          type: line
          data_view: logs-*
          dimension:
            field: '@timestamp'
            type: date_histogram
            label: Time
          breakdown:
            field: log.level
            type: values
            size: 5
            sort:
              by: Count
              direction: desc
          metrics:
            - aggregation: count
              label: Count
          filters:
            - field: data_stream.dataset
              equals: application.logs
